<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- 
    处理this:
        1.箭头函数中的this：箭头函数没有自己的this，箭头函数中的this是继承自外层作用域的this
            箭头函数中的this指向定义时所在的对象，而不是使用时所在的对象
            箭头函数不能作为构造函数使用，否则会报错
            箭头函数不能使用call，apply，bind等方法改变this的指向
        2.普通函数中的this：普通函数中的this指向调用该函数的对象，如果没有调用对象，则指向全局对象window（严格模式下为undefined）
            普通函数可以作为构造函数使用，使用new关键字调用时，this指向新创建的对象
            普通函数可以使用call，apply，bind等方法改变this的指向
        3.事件处理函数中的this：事件处理函数中的this指向触发事件的DOM元素
            如果使用箭头函数作为事件处理函数，则this指向外层作用域的this，而不是触发事件的DOM元素
            如果使用普通函数作为事件处理函数，则this指向触发事件的DOM元素
    改变this:
        1.call方法：调用函数时，可以指定this的指向，语法：func.call(thisArg, arg1, arg2, ...)
            thisArg：func运行时指定的this指向的对象
            arg1, arg2, ...：传递给函数的其他参数
            说明：call方法会立即执行函数
        2.apply方法：调用函数时，可以指定this的指向，语法：func.apply(thisArg, [argsArray])
            thisArg：指定的this指向的对象
            argsArray：传递给函数的参数数组
            说明：apply方法会立即执行函数,返回值就是函数的返回值
        3.bind方法：创建一个新的函数，该函数的this指向指定的对象，语法：const newFunc = func.bind(thisArg, arg1, arg2, ...)
            thisArg：指定的this指向的对象
            arg1, arg2, ...：传递给函数的参数
            说明：bind方法不会立即执行函数，而是返回一个新的函数，可以在需要时调用该函数
    -->
    <button>点击</button>
</body>
<script>
    const obj = {
        data: 10,
        fn: function () {
            console.log(this);
        }
    }
    obj.fn();

    function fn(...arr) {
        console.log(this); //在普通函数中，this指向调用该函数的对象，这里没有调用对象，所以指向全局对象window
        console.log(arr);

    }
    fn()
    const obj1 = {
        data: 10
    }
    fn.call(obj1)
    fn.apply(obj1, [1, 2, 3, 4])
    const fn1 = fn.bind(obj1, 1, 2, 3, 4, 5)
    fn1()
    const btn = document.querySelector('button');
    btn.addEventListener('click', function () {
        this.disabled = true; //在事件处理函数中，this指向触发事件的DOM元素，这里指向button元素
        setTimeout(function () {
            this.disabled = false;
        }.bind(this), 2000);
    }
    )
</script>

</html>